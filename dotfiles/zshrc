#!/bin/zsh
# {{@@ header() @@}}

# not running interactively then bail
[[ $- != *i* ]] && return

# Check if zplug is installed
if [[ ! -d ~/.zplug ]]; then
	git clone https://github.com/zplug/zplug ~/.zplug
	source ~/.zplug/init.zsh && zplug update
else
	source ~/.zplug/init.zsh
fi

# zplug plugins
zplug "zplug/zplug", hook-build:"zplug --self-manage"
zplug "yous/vanilli.sh"
zplug "mafredri/zsh-async"
zplug "supercrabtree/k"
zplug "zsh-users/zsh-autosuggestions"
zplug "sindresorhus/pure", use:pure.zsh, as:theme
zplug "petervanderdoes/git-flow-completion"

# install missing plugins
zplug check || zplug install

# Then, source plugins and add commands to $PATH
zplug load

# aliases
man() {
	LESS_TERMCAP_md=$'\e[01;31m' \
		LESS_TERMCAP_me=$'\e[0m' \
		LESS_TERMCAP_se=$'\e[0m' \
		LESS_TERMCAP_so=$'\e[01;44;33m' \
		LESS_TERMCAP_ue=$'\e[0m' \
		LESS_TERMCAP_us=$'\e[01;32m' \
		command man "$@"
}
alias drm='docker rm $(docker ps -a -q)'
alias drmi='docker rmi $(docker images -q)'
alias drmi_force='docker rmi $(docker images -q) --force'
alias docker_purge='drm && drmi'
alias mirrors='sudo reflector --score 100 --fastest 25 --sort rate --save /etc/pacman.d/mirrorlist --verbose'
alias xgnome='startx ~/.xinitrc gnome'
alias xi3='startx ~/.xinitrc i3'
alias wsway='MOZ_ENABLE_WAYLAND=1 XDG_SESSION_TYPE=wayland XDG_CURRENT_DESKTOP=Unity sway'
alias wgnome='MOZ_ENABLE_WAYLAND=1 QT_QPA_PLATFORM=wayland XDG_SESSION_TYPE=wayland dbus-run-session gnome-session'
alias drop='dotdrop install'
alias dropglobal='sudo dotdrop --cfg=/home/myrovh/.config/dotdrop/global-config.yaml install'
